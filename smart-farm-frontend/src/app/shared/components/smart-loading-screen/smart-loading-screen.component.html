<div class="loading-wrapper" *ngIf="isLoading" [@fadeInOut]>
  <!-- Ambient Glow Particles -->
  <div class="particle-container">
    <div
      *ngFor="let particle of particles; let i = index"
      class="particle"
      [style.left.%]="particle.left"
      [style.animation-delay.s]="particle.delay"
      [style.animation-duration.s]="particle.duration"
    ></div>
  </div>

  <!-- Background Gradient Overlay -->
  <div class="gradient-overlay"></div>

  <!-- Animation Container -->
  <div class="animation-container">
    <!-- Background: Pulse/Ripple Animation -->
    <div class="animation-layer pulse-layer">
      <ng-lottie
        [options]="pulseOptions"
        (animationCreated)="onAnimationCreated($event, 'pulse')"
        containerClass="lottie-container"
      ></ng-lottie>
    </div>

    <!-- Foreground: Sprout Animation -->
    <div class="animation-layer sprout-layer">
      <ng-lottie
        [options]="sproutOptions"
        (animationCreated)="onAnimationCreated($event, 'sprout')"
        containerClass="lottie-container"
      ></ng-lottie>
    </div>

    <!-- Glow Effect Behind Sprout -->
    <div class="glow-effect"></div>
  </div>

  <!-- Loading Text and Progress -->
  <div class="loading-content">
    <div class="loading-icon">ðŸŒ±</div>
    <h2 class="loading-message">{{ message }}</h2>

    <!-- Custom Progress Ring -->
    <div class="progress-ring">
      <svg class="progress-ring-svg" width="60" height="60">
        <circle
          class="progress-ring-circle"
          stroke="#A5D6A7"
          stroke-width="3"
          fill="transparent"
          r="26"
          cx="30"
          cy="30"
        />
      </svg>
    </div>
  </div>

  <!-- Network Dots Animation -->
  <div class="network-dots">
    <div class="dot dot-1"></div>
    <div class="dot dot-2"></div>
    <div class="dot dot-3"></div>
    <div class="connection connection-1"></div>
    <div class="connection connection-2"></div>
    <div class="connection connection-3"></div>
  </div>
</div>

