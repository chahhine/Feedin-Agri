/**
 * Devices Filters Panel Styles
 * Styles for search and filter controls
 */

.filters-panel {
  background: var(--user-menu-bg);
  border-radius: 16px;
  padding: 1.5rem;
  margin-bottom: 2rem;
  box-shadow: var(--user-menu-shadow);
  border: 1px solid var(--header-border);

  .filters-content {
    .filters-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
      gap: 1rem;

      h3 {
        color: var(--header-text);
        font-size: 1.3rem;
        font-weight: 600;
        margin: 0;
        display: flex;
        align-items: center;
        gap: 0.5rem;

        mat-icon {
          font-size: 1.5rem;
          width: 1.5rem;
          height: 1.5rem;
        }
      }

      .active-filters-badge {
        background: #2e7d32;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.875rem;
        font-weight: 500;
      }

      .clear-btn-icon {
        color: var(--header-text-secondary);
        transition: all 0.2s ease;

        &:hover:not(:disabled) {
          color: #ef4444;
          background: rgba(239, 68, 68, 0.1);
        }

        &:focus-visible {
          outline: 2px solid #ef4444;
          outline-offset: 2px;
        }

        &:disabled {
          opacity: 0.3;
          cursor: not-allowed;
        }
      }
    }

    .filters-grid {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr;
      gap: 1rem;

      .search-field,
      .filter-field {
        width: 100%;
        transition: box-shadow 0.2s ease, transform 0.2s ease;
        border-radius: 14px;

        &.is-active {
          box-shadow: 0 12px 30px rgba(46, 125, 50, 0.12);
          transform: translateY(-2px);
        }
      }

      ::ng-deep {
        .mat-mdc-form-field {
          width: 100%;
        }

        .mat-mdc-text-field-wrapper {
          background: var(--card-bg, white);
          border-radius: 12px;
          transition: border 0.2s ease, box-shadow 0.2s ease;
        }

        .mat-mdc-form-field-focus-overlay {
          background-color: transparent;
        }

        .mat-mdc-icon-prefix,
        .mat-mdc-icon-suffix {
          color: var(--header-text-secondary);
        }

        .mdc-notched-outline__leading,
        .mdc-notched-outline__notch,
        .mdc-notched-outline__trailing {
          border-color: rgba(148, 163, 184, 0.4);
          transition: border-color 0.2s ease;
        }
      }

      .search-field {
        ::ng-deep .mat-mdc-form-field-flex {
          align-items: center;
          gap: 0.35rem;
        }

        ::ng-deep .mat-mdc-form-field-icon-prefix {
          margin-right: 0.25rem;
        }
      }

      .filter-field.is-active,
      .search-field.is-active {
        ::ng-deep {
          .mdc-notched-outline__leading,
          .mdc-notched-outline__notch,
          .mdc-notched-outline__trailing {
            border-color: rgba(46, 125, 50, 0.6);
          }
        }
      }
    }
  }
}

/* Responsive Design */
@media (max-width: 1024px) {
  .filters-panel {
    .filters-content {
      .filters-grid {
        grid-template-columns: 1fr 1fr;
        
        .search-field {
          grid-column: 1 / -1;
        }
      }
    }
  }
}

@media (max-width: 768px) {
  .filters-panel {
    padding: 1rem;

    .filters-content {
      .filters-header {
        h3 {
          font-size: 1.1rem;
        }
      }

      .filters-grid {
        grid-template-columns: 1fr;
        gap: 0.75rem;

        .search-field {
          grid-column: auto;
        }
      }
    }
  }
}
