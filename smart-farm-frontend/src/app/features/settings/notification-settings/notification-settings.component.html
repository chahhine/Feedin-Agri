<!-- Notification Settings Container -->
<div class="notification-settings-container">

  <!-- Header Card -->
  <div class="settings-header-card">
    <div class="header-content">
      <div class="header-icon-wrapper">
        <mat-icon class="header-icon">notifications_active</mat-icon>
      </div>
      <div class="header-text">
        <h1>{{ languageService.t()('notifications.title') }}</h1>
        <p class="subtitle">{{ languageService.t()('notifications.subtitle') }}</p>
      </div>
    </div>
  </div>

  <!-- Settings Content -->
  <div class="settings-content">

    <!-- Quiet Hours Section -->
    <mat-card class="settings-section">
      <div class="section-header">
        <div class="section-title">
          <div class="section-icon quiet-hours">
            <mat-icon>nightlight</mat-icon>
          </div>
          <div>
            <h2>{{ languageService.t()('notifications.quietHours') }}</h2>
            <p class="section-description">Silence notifications during specific hours</p>
          </div>
        </div>
        <mat-slide-toggle
          [(ngModel)]="quietEnabled"
          color="primary"
          class="section-toggle">
        </mat-slide-toggle>
      </div>

      <mat-card-content *ngIf="quietEnabled">
        <div class="quiet-hours-config">
          <div class="time-config-card">
            <mat-icon class="time-icon">bedtime</mat-icon>
            <div class="time-info">
              <span class="time-label">{{ languageService.t()('notifications.startHour') }}</span>
              <mat-form-field appearance="outline" class="time-field">
                <input
                  matInput
                  type="number"
                  [(ngModel)]="startHour"
                  min="0"
                  max="23"
                  placeholder="22">
                <span matSuffix>:00</span>
              </mat-form-field>
            </div>
          </div>

          <div class="time-separator">
            <mat-icon>arrow_forward</mat-icon>
          </div>

          <div class="time-config-card">
            <mat-icon class="time-icon">wb_twilight</mat-icon>
            <div class="time-info">
              <span class="time-label">{{ languageService.t()('notifications.endHour') }}</span>
              <mat-form-field appearance="outline" class="time-field">
                <input
                  matInput
                  type="number"
                  [(ngModel)]="endHour"
                  min="0"
                  max="23"
                  placeholder="6">
                <span matSuffix>:00</span>
              </mat-form-field>
            </div>
          </div>
        </div>

        <div class="info-box">
          <mat-icon>info_outline</mat-icon>
          <span>Notifications will be silenced from <strong>{{ startHour }}:00</strong> to <strong>{{ endHour }}:00</strong></span>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Cooldown Section -->
    <mat-card class="settings-section">
      <div class="section-header">
        <div class="section-title">
          <div class="section-icon cooldown">
            <mat-icon>schedule</mat-icon>
          </div>
          <div>
            <h2>{{ languageService.t()('notifications.cooldown') }}</h2>
            <p class="section-description">Minimum time between repeated notifications</p>
          </div>
        </div>
      </div>

      <mat-card-content>
        <div class="cooldown-config">
          <mat-icon class="cooldown-icon">timer</mat-icon>
          <div class="cooldown-slider">
            <mat-form-field appearance="outline" class="cooldown-field">
              <mat-label>{{ languageService.t()('notifications.cooldownMinutes') }}</mat-label>
              <input
                matInput
                type="number"
                [(ngModel)]="cooldown"
                min="0"
                max="120"
                placeholder="15">
              <span matSuffix>minutes</span>
            </mat-form-field>
          </div>
        </div>

        <div class="info-box">
          <mat-icon>info_outline</mat-icon>
          <span>Same notification type won't repeat within <strong>{{ cooldown }}</strong> minutes</span>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Notification Levels Section -->
    <mat-card class="settings-section">
      <div class="section-header">
        <div class="section-title">
          <div class="section-icon levels">
            <mat-icon>priority_high</mat-icon>
          </div>
          <div>
            <h2>{{ languageService.t()('notifications.categories') }} - Levels</h2>
            <p class="section-description">Choose which severity levels to receive</p>
          </div>
        </div>
      </div>

      <mat-card-content>
        <div class="toggle-grid">
          <div class="toggle-card critical" [class.enabled]="levels.critical">
            <div class="toggle-icon-wrapper">
              <mat-icon>error</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.critical') }}</span>
              <span class="toggle-description">Urgent issues requiring immediate attention</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="levels.critical"
              color="warn">
            </mat-slide-toggle>
          </div>

          <div class="toggle-card warning" [class.enabled]="levels.warning">
            <div class="toggle-icon-wrapper">
              <mat-icon>warning</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.warning') }}</span>
              <span class="toggle-description">Important alerts needing attention</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="levels.warning"
              color="accent">
            </mat-slide-toggle>
          </div>

          <div class="toggle-card info" [class.enabled]="levels.info">
            <div class="toggle-icon-wrapper">
              <mat-icon>info</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.info') }}</span>
              <span class="toggle-description">General information and updates</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="levels.info"
              color="primary">
            </mat-slide-toggle>
          </div>

          <div class="toggle-card success" [class.enabled]="levels.success">
            <div class="toggle-icon-wrapper">
              <mat-icon>check_circle</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.success') }}</span>
              <span class="toggle-description">Successful operations and completions</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="levels.success"
              color="primary">
            </mat-slide-toggle>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Notification Sources Section -->
    <mat-card class="settings-section">
      <div class="section-header">
        <div class="section-title">
          <div class="section-icon sources">
            <mat-icon>source</mat-icon>
          </div>
          <div>
            <h2>{{ languageService.t()('notifications.categories') }} - Sources</h2>
            <p class="section-description">Select notification sources to monitor</p>
          </div>
        </div>
      </div>

      <mat-card-content>
        <div class="toggle-grid">
          <div class="toggle-card source" [class.enabled]="sources.sensor">
            <div class="toggle-icon-wrapper">
              <mat-icon>sensors</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.sensors') }}</span>
              <span class="toggle-description">Temperature, humidity, soil sensors</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="sources.sensor"
              color="primary">
            </mat-slide-toggle>
          </div>

          <div class="toggle-card source" [class.enabled]="sources.device">
            <div class="toggle-icon-wrapper">
              <mat-icon>devices</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.devices') }}</span>
              <span class="toggle-description">Connected IoT devices and equipment</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="sources.device"
              color="primary">
            </mat-slide-toggle>
          </div>

          <div class="toggle-card source" [class.enabled]="sources.action">
            <div class="toggle-icon-wrapper">
              <mat-icon>bolt</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.actions') }}</span>
              <span class="toggle-description">Automated actions and triggers</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="sources.action"
              color="primary">
            </mat-slide-toggle>
          </div>

          <div class="toggle-card source" [class.enabled]="sources.system">
            <div class="toggle-icon-wrapper">
              <mat-icon>computer</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.system') }}</span>
              <span class="toggle-description">System status and health updates</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="sources.system"
              color="primary">
            </mat-slide-toggle>
          </div>

          <div class="toggle-card source" [class.enabled]="sources.maintenance">
            <div class="toggle-icon-wrapper">
              <mat-icon>build</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.maintenance') }}</span>
              <span class="toggle-description">Maintenance reminders and schedules</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="sources.maintenance"
              color="primary">
            </mat-slide-toggle>
          </div>

          <div class="toggle-card source" [class.enabled]="sources.security">
            <div class="toggle-icon-wrapper">
              <mat-icon>security</mat-icon>
            </div>
            <div class="toggle-info">
              <span class="toggle-label">{{ languageService.t()('notifications.security') }}</span>
              <span class="toggle-description">Security alerts and access logs</span>
            </div>
            <mat-slide-toggle
              [(ngModel)]="sources.security"
              color="primary">
            </mat-slide-toggle>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Save Actions -->
    <div class="actions-bar">
      <div class="actions-info">
        <mat-icon>auto_awesome</mat-icon>
        <span>Changes are applied immediately after saving</span>
      </div>
      <button
        mat-raised-button
        color="primary"
        class="save-button"
        (click)="save()">
        <mat-icon>save</mat-icon>
        <span>{{ languageService.t()('notifications.saveSettings') }}</span>
      </button>
    </div>

  </div>
</div>








